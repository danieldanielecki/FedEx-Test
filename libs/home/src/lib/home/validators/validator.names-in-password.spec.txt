import { FormControl, FormGroup } from '@angular/forms';
import { validateNamesInPasswords } from './validator.names-in-password';

describe('validateNamesInPasswords', () => {
  const firstNameControName: string = 'firstNameControName';
  const lastNameControName: string = 'lastNameControName';
  const passwordControlName: string = 'passwordControlName';
  let formGroup: FormGroup = new FormGroup({});

  beforeEach(() => {
    formGroup = new FormGroup(
      {
        [firstNameControName]: new FormControl(),
        [lastNameControName]: new FormControl(),
        [passwordControlName]: new FormControl(),
      },
      validateNamesInPasswords(
        firstNameControName,
        lastNameControName,
        passwordControlName
      )
    );
  });

  it('should has "namesInPassword" error on first name in password', () => {
    formGroup.patchValue({
      [firstNameControName]: 'Daniel',
      [lastNameControName]: 'qweqwewqe',
      [passwordControlName]: 'Danasdsadielecki',
    });
    console.log(formGroup); // Value is null for some reason
  });
});
